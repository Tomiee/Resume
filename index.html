<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Resume</title>
  <link rel="stylesheet" href="main.css">
  <style type="text/css">
    html {
      /* scroll-behavior: smooth; */
    }

    .icon {
      width: 1em;
      height: 1em;
      vertical-align: -0.15em;
      fill: currentColor;
      overflow: hidden;
    }

    @keyframes loading {
      0% {
        width: 0;
        height: 0;
        opacity: 1;
      }

      100% {
        width: 200px;
        height: 200px;
        opacity: 0;
      }
    }

    .loading {
      width: 100%;
      height: 800px;
      border: 1px solid red;
      position: fixed;
      z-index: 3;
      background-color: #fff;
    }

    .loading::before,
    .loading::after {
      content: '';
      background-color: grey;
      border-radius: 50%;
      position: absolute;
      animation: loading 3s linear infinite;
      width: 0;
      height: 0;
      top: 0;
      left: 0;
      bottom: 200px;
      right: 0;
      margin: auto;
    }

    .loading::after {
      animation-delay: 1s;
      background-color: black;
    }

    .loading.disappear {
      display: none;
    }
  </style>
  <script src="//at.alicdn.com/t/font_1221447_wi9vlvwn19.js"></script>
</head>

<body>
  <div id="siteWelcome" class="loading"></div>
  <header id="header">
    <a class="logo"><span>RS</span><span>card</span></a>
    <nav>
      <ul>
        <li> <a href="#siteAbout">关于</a></li>
        <li> <a href="#siteSkill">技能</a>
          <ol class="sub_menu">
            <li>skill-1</li>
            <li>skill-2</li>
            <li>skill-3</li>
          </ol>
        </li>
        <li> <a href="#siteWork">作品</a>
          <ol class="sub_menu">
            <li>works-1</li>
            <li>works-2</li>
            <li>works-3</li>
          </ol>
        </li>
        <li> <a href="javascript:;">博客</a></li>
        <li> <a href="javascript:;">日历</a></li>
        <li> <a href="javascript:;">联系方式</a></li>
        <li> <a href="javascript:;">其它</a></li>
      </ul>
    </nav>
  </header>
  <div class="banner">
    <div class="mask"></div>
  </div>

  <div class="card-box" id="siteAbout" mark>
    <div class="card">
      <div class="content">
        <img src="img/avatar.jpg" alt="">
        <div class="info">
          <span class="hello">HELLO<span></span></span>
          <h3>大名</h3>
          <p>前端开发工程师</p>
          <hr>
          <table>
            <tr>
              <th>毕业学校</th>
              <td>武汉科技大学</td>
            </tr>
            <tr>
              <th>所在城市</th>
              <td>武汉</td>
            </tr>
            <tr>
              <th>邮箱</th>
              <td>Tom15623@163.com</td>
            </tr>
            <tr>
              <th>联系方式</th>
              <td>15623341936</td>
            </tr>
          </table>
        </div>
      </div>
      <div class="footer">
        <a href="javascript:;">
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-boke"></use>
          </svg>
        </a>
        <a href="javascript:;">
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-v"></use>
          </svg>
        </a>
        <a href="javascript:;">
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-twitter"></use>
          </svg>
        </a>
      </div>
    </div>
  </div>
  <div class="bug1"></div>
  <div class="download" color="yellow"><a href="img/avatar.jpg" download>下载PDF简历</a></div>
  <p class="intro"><strong>龙妈</strong> ——风暴降生丹尼莉丝、不焚者、弥林女王、安达尔人，罗伊那人和先民的女王、七国君王、疆域守护者、多斯拉克大草原的卡丽熙、打碎镣铐者、 龙之母丹妮莉丝·塔格利亚
  </p>

  <section id="siteSkill" mark class="">
    <h1>技能</h1>
    <div class="skills">
      <ol class="clearfix">
        <li>
          <h3>HTML 5 & CSS 3</h3>
          <div><span style="width:60%"></span></div>
        </li>
        <li>
          <h3>JavaScript</h3>
          <div><span style="width: 70%"></span></div>
        </li>
        <li>
          <h3>jQuery</h3>
          <div><span style="width:70%"></span></div>
        </li>
        <li>
          <h3>Vue.js</h3>
          <div><span class="60%"></span></div>
        </li>
        <li>
          <h3>React.js</h3>
          <div><span></span></div>
        </li>
        <li>
          <h3>Node.js</h3>
          <div><span></span></div>
        </li>
      </ol>
    </div>
  </section>

  <div class="works" id="siteWork" mark>
    <h1>作品集</h1>
    <nav>
      <ol>
        <li id="works1"><a href="javascript:;">所有</a></li>
        <li id="works2"><a href="javascript:;">框架</a></li>
        <li id="works3"><a href="javascript:;">原生JS&CSS</a></li>
      </ol>
      <div class="works-bar">
        <div id="barInner" class="bar-inner state1"></div>
      </div>
      <script>
        works1.onclick = function () {
          barInner.className = "bar-inner state1";
        }
        works2.onclick = function () {
          barInner.className = "bar-inner state2"
        }
        works3.onclick = function () {
          barInner.className = "bar-inner state3"
        }
      </script>
    </nav>
    <div class="imgs clearfix">
      <img src="img/1.jpg" alt="">
      <img src="img/2.jpg" alt="">
      <img src="img/3.jpg" alt="">
    </div>

    <div>continue...</div>
  </div>


  <script>
    window.onscroll = function () {
      window.scrollY > 0 ? header.classList.add("Sticky") : header.classList.remove("Sticky")
    }

    setTimeout(function () {
      siteWelcome.classList.add("disappear")
    }, 700)


    let lis = document.querySelectorAll('header nav ul>li')
    for (let i = 0; i < lis.length; i++) {
      lis[i].onmouseenter = function () {
        this.getElementsByTagName('ol')[0].classList.add('active')
      }
      lis[i].onmouseleave = function () {
        this.getElementsByTagName('ol')[0].classList.remove('active')
      }
    }


    let aTags = document.querySelectorAll('#header >nav  li >a')
    for (let i = 0; i < aTags.length; i++) {
      aTags[i].onclick = function (e) {
        e.preventDefault();
        let a = e.currentTarget
        let href = String(a.getAttribute('href'))
        let element = document.querySelector(href)
        let top = element.offsetTop
        // document.querySelector('html').scrollTo(0, top - 70)

        let j = 1
        let current = window.scrollY
        let tar = (current - (top - 70)) / 50
        var tarG = top - 70
        // let scroll_id = setInterval(function(){
        //   let move = current - tar*j
        //   window.scrollTo(0,move)
        //   j++
        //   if(j==50){
        //     window.clearInterval(scroll_id)
        //     return
        //   }
        // },20)

        function animate(time) {
          requestAnimationFrame(animate);
          TWEEN.update(time);
        }
        requestAnimationFrame(animate);

        const coords = {
          x: 0,
          y: current
        };
        const tween = new TWEEN.Tween(coords).to({
            x: 0,
            y: tarG
          }, 500)
          .easing(TWEEN.Easing.Quadratic.Out)
          .onUpdate(() => {
            window.scrollTo(0, coords.y)
          })
          .start(); // Start the tween immediately.
      }
    }


    let marks = document.querySelectorAll('[mark]')
    for (let i = 0; i < marks.length; i++) {
      marks[i].classList.add('down')
    }

    let sks = document.querySelectorAll('#siteSkill .skills li span')
    for (let i = 0; i < sks.length; i++) {
      sks[i].classList.add('sksShow')
    }

    window.onscroll = function () {
      // let marks = document.querySelectorAll('[mark]')
      let min = 0
      let current = window.scrollY
      for (let i = 0; i < marks.length; i++) {
        if (Math.abs(current - marks[min].offsetTop) > Math.abs(current - marks[i].offsetTop)) {
          min = i
        }
      }
      let as = document.querySelectorAll('header nav li a')
      for (let i = 0; i < as.length; i++) {
        as[i].classList.remove('highLight')
      }
      as[min].classList.add('highLight')
      //   for (let i = 0; i < marks.length ; i++){
      //     marks[i].classList.add('rollUp')
      //   }
      marks[min].classList.remove('down')
      marks[min].classList.add('up')
      if(min == 1){
        for(let i = 0;i<sks.length;i++){
          sks[i].classList.remove('sksShow')
        }
      }
    }
  </script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/tween.js/17.4.0/Tween.min.js'></script>
</body>

</html>